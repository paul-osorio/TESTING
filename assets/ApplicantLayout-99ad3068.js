import{u as m,r as o,j as l,m as b,a as e,N as w,c as g,b as C,d as O,e as x,f as z,g as A,h as L,i as N,A as h,k as j,F as v,W as P,O as S}from"./index-805093aa.js";const M=({handleClose:n})=>{const{showSuccess:t}=m();return o.useEffect(()=>{setTimeout(()=>{n()},3e3)},[]),l(b.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"tween",duration:.15},className:"p-3 tablet:w-96 fixed mobile:w-[90%] bottom-5 left-5  rounded-lg bg-green-600  border border-green-300 flex items-center",onClick:a=>a.stopPropagation(),children:[e("i",{className:"fa-duotone fa-check-circle text-white mr-2 text-2xl"}),t==="profile"&&e("span",{className:"text-white",children:"Profile successfully updated."}),t==="password"&&e("span",{className:"text-white",children:"Password successfully changed."})]})},d=({to:n,label:t})=>e("li",{children:e(w,{to:n,className:({isActive:a})=>g("text-zinc-500",{"text-blue-600 font-medium":a,"hover:text-black":!a}),children:t})}),R=()=>l("ul",{className:"h-full laptop:flex space-x-10 items-center hidden",children:[e(d,{to:"/applicant/home",label:"Home"}),e(d,{to:"/applicant/joboffer",label:"Job Offer"}),e(d,{to:"/applicant/about",label:"About"}),e(d,{to:"/applicant/applist/all",label:"Application"})]}),T="/assets/dabarlogo-432aa228.png",B=({showFull:n})=>l("div",{className:"flex items-center space-x-2",children:[e("img",{src:T,alt:"",className:"h-10"}),e("div",{className:"hidden tablet:block",children:l("p",{className:"text-lg text-green-600 font-bold leading-4 uppercase",children:["Bureau of ",e("br",{})," Agricultural Research"]})}),l("p",{className:"tablet:hidden text font-bold leading-4 uppercase text-green-600",children:["Bureau of ",e("br",{})," Agricultural Research"]})]}),D=({handleClose:n})=>{const t=C(),[a,i]=o.useState(!1),s=async()=>{i(!0);try{await O(),x.remove("applicant_auth_token"),x.remove("applicant"),window.location.href="/applicant/login",i(!1)}catch(c){console.log(c)}};return e(b.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.1,type:"tween"},className:"absolute py-2 bg-white shadow-lg border top-full mt-1 right-0 w-36 rounded-lg select-none",children:l("div",{className:"",children:[l("button",{type:"button",onClick:()=>{t("/applicant/profile"),n()},className:"px-3 py-2 hover:bg-zinc-100 w-full flex items-center",children:[e("i",{class:"fa-duotone fa-circle-user w-8"}),e("span",{children:"Account"})]}),l("button",{type:"button",onClick:s,disabled:a,className:"px-3 py-2 hover:bg-zinc-100 w-full  flex items-center",children:[a?e("i",{class:"fa-duotone fa-spinner-third animate-spin w-8"}):e("i",{class:"fa-duotone fa-arrow-right-from-bracket w-8"}),e("span",{children:"Log Out"})]})]})})},F=({setShowDropdown:n,showDropdown:t,data:a})=>{const{initial:i,color:s}=z(a.name),{URL:c,PORT:r,PROTOCOL:p}=A,f=`${p}://${c}:${r}`+a.profile_picture;return e("div",{role:"button",onClick:()=>{n(!t)},className:"flex items-center justify-center  hover:ring-4 hover:ring-zinc-100 rounded-full",children:a.profile_picture?e("img",{src:f}):e("div",{className:"h-8 w-8 bg-gray-500 rounded-full flex items-center justify-center",style:{backgroundColor:`${s}50`,color:s},children:e("span",{className:"font-bold",children:i})})})},y=({isActive:n,label:t,...a})=>e("button",{className:g("px-6 py-1 text-sm rounded-full",{"bg-blue-600 text-white":n,"bg-zinc-100 text-zinc-600 hover:text-zinc-800 hover:bg-zinc-200":!n}),...a,children:t}),_=({handleClose:n})=>{const[t,a]=o.useState(0);return e(b.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.1,type:"tween"},className:"absolute top-full bg-white rounded-lg shadow-xl border p-5 w-80 -right-5",children:l("div",{className:"",children:[e("p",{className:"text-lg font-bold text-zinc-700",children:"Notification"}),l("div",{className:"flex items-center space-x-2",children:[e(y,{label:"All",isActive:t===0,onClick:()=>a(0)}),e(y,{label:"Unread",isActive:t===1,onClick:()=>a(1)})]}),e("div",{className:"max-h-96 min-h-[220px] overflow-y-auto"})]})})},$=({handleClose:n})=>{const[t,a]=o.useState(!1),{setOpenNotification:i,openNotification:s}=m(),c=o.useRef(null),r=o.useRef(null),{data:p,isLoading:f}=L({queryKey:["applicant"],queryFn:async()=>{const{data:k}=await j();return k},networkMode:"always"});return N(c,()=>a(!1)),N(r,()=>i(!1)),l("div",{className:"flex items-center h-full space-x-2 ",children:[l("div",{className:"relative",ref:r,children:[e("div",{role:"button",onClick:()=>i(!s),className:"hover:bg-zinc-100 h-8 w-8 rounded-full flex items-center justify-center ",children:e("i",{className:"fa-duotone fa-bell fa-lg"})}),e(h,{children:s&&e(_,{handleClose:()=>i(!1)})})]}),l("div",{className:"flex items-center space-x-4 relative",ref:c,children:[f?e("div",{className:"h-8 w-8 bg-gray-500 rounded-full animate-pulse"}):e(F,{setShowDropdown:a,showDropdown:t,data:p}),e(h,{children:t&&e(D,{handleClose:()=>a(!1)})})]})]})},U=()=>(o.useState(!1),e(v,{children:l("nav",{className:"h-14 w-full sticky inset-0 z-50 bg-white flex items-center justify-between px-3 shadow ",children:[e(B,{}),e(R,{}),e($,{})]})})),u=({icon:n,to:t,label:a})=>l(w,{to:t,className:({isActive:i})=>g("flex justify-center items-center flex-col h-full",{"text-blue-600 font-medium":i,"hover:text-black":!i}),children:[n,e("p",{className:"text-sm",children:a})]}),q=()=>e("div",{className:"fixed bottom-0 border-t border-zinc-300 laptop:hidden bg-white h-14 w-full",children:l("div",{className:"grid grid-cols-4 h-full divide-x",children:[e("div",{className:"col-span-1",children:e(u,{icon:e("i",{className:"fa-duotone fa-house"}),label:"Home",to:"/applicant/home"})}),e("div",{className:"col-span-1",children:e(u,{icon:e("i",{className:"fa-duotone fa-briefcase"}),label:"Job Offer",to:"/applicant/joboffer"})}),e("div",{className:"col-span-1",children:e(u,{icon:e("i",{className:"fa-duotone fa-circle-info"}),label:"About",to:"/applicant/about"})}),e("div",{className:"col-span-1",children:e(u,{icon:e("i",{className:"fa-duotone fa-clipboard-list"}),label:"Application",to:"/applicant/applist/all"})})]})}),H=()=>{const{showSuccess:n,setShowSuccess:t,openNotification:a,setOpenNotification:i}=m();return l(v,{children:[e(P,{children:e("body",{className:"bg-zinc-100"})}),l("div",{className:"mb-14 laptop:mb-0",children:[e(U,{}),e("div",{className:"p-3 ",children:e(S,{})})]}),e(q,{}),e(h,{children:n&&e(M,{handleClose:()=>t(null)})})]})};export{H as default};
